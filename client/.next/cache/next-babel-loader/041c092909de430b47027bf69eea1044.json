{"ast":null,"code":"import React, { useState, useContext, useEffect } from 'react';\nimport { PageDashboard } from '../PageUniversal';\nimport BuySection from '../Sections/Buy';\nimport { UserContext } from '../../lib/UserContext';\n\nconst BuyingPage = () => {\n  const {\n    api,\n    currentUser\n  } = useContext(UserContext);\n  const [tickets, setTickets] = useState([]);\n\n  const getTickets = async sortTicketBody => {\n    var sortFields = sortTicketBody;\n\n    if (sortTicketBody.game === \"All Games\") {\n      sortFields = {\n        filter: sortTicketBody.filter\n      };\n    }\n\n    const body = await api.sortTickets(sortFields);\n    console.log(body.data);\n    setTickets(body.data);\n  };\n\n  useEffect(() => {\n    getTickets({\n      game: \"All Games\",\n      filter: \"Price - lowest to highest\"\n    });\n  }, []);\n  console.log(currentUser);\n  return /*#__PURE__*/React.createElement(PageDashboard, {\n    isLoggedIn: currentUser === undefined ? false : true\n  }, /*#__PURE__*/React.createElement(BuySection, {\n    tickets: tickets,\n    getTickets: getTickets\n  }));\n};\n\nexport default BuyingPage;","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/src/areas/BuyingPage/index.tsx"],"names":["React","useState","useContext","useEffect","PageDashboard","BuySection","UserContext","BuyingPage","api","currentUser","tickets","setTickets","getTickets","sortTicketBody","sortFields","game","filter","body","sortTickets","console","log","data","undefined"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;;AAGA,MAAMC,UAAoB,GAAG,MAAM;AAC/B,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAqBP,UAAU,CAACI,WAAD,CAArC;AACA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAW,EAAX,CAAtC;;AAEA,QAAMW,UAAU,GAAG,MAAOC,cAAP,IAA0B;AACzC,QAAIC,UAAU,GAAGD,cAAjB;;AACA,QAAIA,cAAc,CAACE,IAAf,KAAwB,WAA5B,EAAyC;AACrCD,MAAAA,UAAU,GAAG;AAACE,QAAAA,MAAM,EAAEH,cAAc,CAACG;AAAxB,OAAb;AACH;;AAED,UAAMC,IAAI,GAAG,MAAMT,GAAG,CAACU,WAAJ,CAAgBJ,UAAhB,CAAnB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,IAAjB;AACAV,IAAAA,UAAU,CAACM,IAAI,CAACI,IAAN,CAAV;AACH,GATD;;AAWAlB,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,UAAU,CAAC;AAACG,MAAAA,IAAI,EAAE,WAAP;AAAoBC,MAAAA,MAAM,EAAE;AAA5B,KAAD,CAAV;AACH,GAFQ,EAEN,EAFM,CAAT;AAIAG,EAAAA,OAAO,CAACC,GAAR,CAAYX,WAAZ;AAEA,sBACI,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAEA,WAAW,KAAKa,SAAhB,GAA4B,KAA5B,GAAoC;AAA/D,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEZ,OAArB;AAA8B,IAAA,UAAU,EAAEE;AAA1C,IADJ,CADJ;AAKH,CA1BD;;AA4BA,eAAeL,UAAf","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\nimport {PageDashboard} from '../PageUniversal'\nimport BuySection from '../Sections/Buy'\nimport {UserContext} from '../../lib/UserContext'\nimport {Ticket} from '../../../api'\n\nconst BuyingPage: React.FC = () => {\n    const {api, currentUser} = useContext(UserContext)\n    const [tickets, setTickets] = useState<Ticket[]>([])\n\n    const getTickets = async (sortTicketBody) => {\n        var sortFields = sortTicketBody\n        if (sortTicketBody.game === \"All Games\") {\n            sortFields = {filter: sortTicketBody.filter}\n        }\n\n        const body = await api.sortTickets(sortFields)\n        console.log(body.data)\n        setTickets(body.data)\n    }\n\n    useEffect(() => {\n        getTickets({game: \"All Games\", filter: \"Price - lowest to highest\"})\n    }, [])\n\n    console.log(currentUser)\n\n    return (\n        <PageDashboard isLoggedIn={currentUser === undefined ? false : true}>\n            <BuySection tickets={tickets} getTickets={getTickets}/>\n        </PageDashboard>\n    )\n}\n\nexport default BuyingPage"]},"metadata":{},"sourceType":"module"}