{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { Modal } from 'antd';\nimport { UserContext } from '../../lib/UserContext';\nimport DropIn from 'braintree-web-drop-in-react';\nimport Loading from '../../components/Loading';\n\nconst PurchaseTicketModal = props => {\n  _s();\n\n  const {\n    currentUser,\n    api\n  } = useContext(UserContext);\n  var instance_drop;\n  const {\n    visible,\n    token,\n    onCancel,\n    onComplete\n  } = props;\n\n  const handlePurchase = async event => {\n    const {\n      nonce\n    } = await instance_drop.requestPaymentMethod();\n    onComplete(nonce);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    title: \"Purchase Ticket\",\n    visible: visible,\n    onCancel: onCancel,\n    onOk: handlePurchase\n  }, token === '' ? /*#__PURE__*/React.createElement(Loading, null) : /*#__PURE__*/React.createElement(DropIn, {\n    options: {\n      authorization: token,\n      venmo: true,\n      paypal: true\n    },\n    onInstance: instance => instance_drop = instance\n  }));\n};\n\n_s(PurchaseTicketModal, \"gLvjyuRsyRzMsYkJuxxUvHq1eSE=\");\n\n_c = PurchaseTicketModal;\nexport default PurchaseTicketModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PurchaseTicketModal\");","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/src/areas/BuyingPage/PurchaseTicketModal.tsx"],"names":["React","useContext","Modal","UserContext","DropIn","Loading","PurchaseTicketModal","props","currentUser","api","instance_drop","visible","token","onCancel","onComplete","handlePurchase","event","nonce","requestPaymentMethod","authorization","venmo","paypal","instance"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAAQC,KAAR,QAAqC,MAArC;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;AAUA,MAAMC,mBAAuD,GAAGC,KAAK,IAAI;AAAA;;AACrE,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA;AAAd,MAAqBR,UAAU,CAACE,WAAD,CAArC;AACA,MAAIO,aAAJ;AACA,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA,QAAjB;AAA2BC,IAAAA;AAA3B,MAAyCP,KAA/C;;AACA,QAAMQ,cAAc,GAAG,MAAOC,KAAP,IAAiB;AACtC,UAAM;AAAEC,MAAAA;AAAF,QAAY,MAAMP,aAAa,CAACQ,oBAAd,EAAxB;AACAJ,IAAAA,UAAU,CAACG,KAAD,CAAV;AACD,GAHD;;AAKA,sBACI,oBAAC,KAAD;AACI,IAAA,KAAK,EAAC,iBADV;AAEI,IAAA,OAAO,EAAEN,OAFb;AAGI,IAAA,QAAQ,EAAEE,QAHd;AAII,IAAA,IAAI,EAAEE;AAJV,KAMOH,KAAK,KAAK,EAAV,gBACC,oBAAC,OAAD,OADD,gBAEC,oBAAC,MAAD;AACE,IAAA,OAAO,EAAE;AAACO,MAAAA,aAAa,EAAEP,KAAhB;AAAuBQ,MAAAA,KAAK,EAAE,IAA9B;AAAoCC,MAAAA,MAAM,EAAE;AAA5C,KADX;AAEE,IAAA,UAAU,EAAGC,QAAD,IAAeZ,aAAa,GAAGY;AAF7C,IARR,CADJ;AAiBH,CA1BD;;GAAMhB,mB;;KAAAA,mB;AA4BN,eAAeA,mBAAf","sourcesContent":["import React, { useContext } from 'react';\nimport {Modal, Button, message} from 'antd'\nimport { UserContext } from '../../lib/UserContext';\nimport DropIn from 'braintree-web-drop-in-react';\nimport Loading from '../../components/Loading';\nimport OpenPage from '../Universal/OpenPage'\n\ninterface PurchaseTicketModalProps {\n    visible: boolean\n    token: string\n    onCancel: () => void\n    onComplete: (nonce: string) => void\n}\n\nconst PurchaseTicketModal: React.FC<PurchaseTicketModalProps> = props => {\n    const {currentUser, api} = useContext(UserContext)\n    var instance_drop;\n    const {visible, token, onCancel, onComplete} = props\n    const handlePurchase = async (event) => {\n      const { nonce } = await instance_drop.requestPaymentMethod();\n      onComplete(nonce)\n    };\n\n    return (\n        <Modal\n            title=\"Purchase Ticket\"\n            visible={visible}\n            onCancel={onCancel}\n            onOk={handlePurchase}\n            >\n              {token === '' ?  \n                <Loading/> :\n                <DropIn \n                  options={{authorization: token, venmo: true, paypal: true}}\n                  onInstance={(instance) => (instance_drop = instance)}\n                />\n              }\n              \n        </Modal>\n    );\n};\n\nexport default PurchaseTicketModal;"]},"metadata":{},"sourceType":"module"}