{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport { PageDashboard } from '../PageUniversal';\nimport SellSection from '../Sections/Sell';\nimport { UserContext } from '../../lib/UserContext';\n\nconst SellingPage = () => {\n  _s();\n\n  const {\n    api,\n    currentUser\n  } = useContext(UserContext);\n  const [ticketWallet, setTicketWallet] = useState([]);\n\n  const getTicketWallet = async () => {\n    const body = await api.getTicketWallet();\n    setTicketWallet(body.data);\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      getTicketWallet();\n    }, 5000);\n  }, []);\n\n  const postTicket = async ticketBody => {\n    await api.postTicket(ticketBody);\n    await getTicketWallet();\n  };\n\n  const removeTicket = async ticketId => {\n    await api.removeTicket({\n      id: ticketId\n    });\n    await getTicketWallet();\n  };\n\n  return /*#__PURE__*/React.createElement(PageDashboard, {\n    isLoggedIn: currentUser === undefined ? false : true\n  }, /*#__PURE__*/React.createElement(SellSection, {\n    tickets: ticketWallet,\n    postTicket: postTicket,\n    removeTicket: removeTicket\n  }));\n};\n\n_s(SellingPage, \"VykszUaYlsQP462J6/VHE/QgFpw=\");\n\n_c = SellingPage;\nexport default SellingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SellingPage\");","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/src/areas/SellingPage/index.tsx"],"names":["React","useEffect","useContext","useState","PageDashboard","SellSection","UserContext","SellingPage","api","currentUser","ticketWallet","setTicketWallet","getTicketWallet","body","data","setTimeout","postTicket","ticketBody","removeTicket","ticketId","id","undefined"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;;AAGA,MAAMC,WAAqB,GAAG,MAAM;AAAA;;AAChC,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAqBP,UAAU,CAACI,WAAD,CAArC;AACA,QAAM,CAACI,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAW,EAAX,CAAhD;;AAEA,QAAMS,eAAe,GAAG,YAAY;AAChC,UAAMC,IAAI,GAAG,MAAML,GAAG,CAACI,eAAJ,EAAnB;AACAD,IAAAA,eAAe,CAACE,IAAI,CAACC,IAAN,CAAf;AACH,GAHD;;AAKAb,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,UAAU,CAAC,MAAM;AACbH,MAAAA,eAAe;AAClB,KAFS,EAEP,IAFO,CAAV;AAGH,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMI,UAAU,GAAG,MAAOC,UAAP,IAAsC;AACrD,UAAMT,GAAG,CAACQ,UAAJ,CAAeC,UAAf,CAAN;AACA,UAAML,eAAe,EAArB;AACH,GAHD;;AAKA,QAAMM,YAAY,GAAG,MAAOC,QAAP,IAA4B;AAC7C,UAAMX,GAAG,CAACU,YAAJ,CAAiB;AAACE,MAAAA,EAAE,EAAED;AAAL,KAAjB,CAAN;AACA,UAAMP,eAAe,EAArB;AACH,GAHD;;AAIA,sBACI,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAEH,WAAW,KAAKY,SAAhB,GAA4B,KAA5B,GAAoC;AAA/D,kBACI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEX,YAAtB;AAAoC,IAAA,UAAU,EAAEM,UAAhD;AAA4D,IAAA,YAAY,EAAEE;AAA1E,IADJ,CADJ;AAKH,CA7BD;;GAAMX,W;;KAAAA,W;AA+BN,eAAeA,WAAf","sourcesContent":["import React, {useEffect, useContext, useState} from 'react'\nimport {PageDashboard} from '../PageUniversal'\nimport SellSection from '../Sections/Sell'\nimport {UserContext} from '../../lib/UserContext'\nimport {Ticket, PostTicketBody} from '../../../api'\n\nconst SellingPage: React.FC = () => {\n    const {api, currentUser} = useContext(UserContext)\n    const [ticketWallet, setTicketWallet] = useState<Ticket[]>([])\n\n    const getTicketWallet = async () => {\n        const body = await api.getTicketWallet()\n        setTicketWallet(body.data)\n    }\n\n    useEffect(() => {\n        setTimeout(() => {\n            getTicketWallet()\n        }, 5000)\n    }, [])\n\n    const postTicket = async (ticketBody: PostTicketBody) => {\n        await api.postTicket(ticketBody)\n        await getTicketWallet()\n    }\n\n    const removeTicket = async (ticketId: string) => {\n        await api.removeTicket({id: ticketId})\n        await getTicketWallet()\n    }\n    return (\n        <PageDashboard isLoggedIn={currentUser === undefined ? false : true}>\n            <SellSection tickets={ticketWallet} postTicket={postTicket} removeTicket={removeTicket}/>\n        </PageDashboard>\n    )\n}\n\nexport default SellingPage"]},"metadata":{},"sourceType":"module"}