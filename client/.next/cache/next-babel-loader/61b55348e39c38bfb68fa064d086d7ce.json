{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport Head from 'next/head';\nimport { UserContext } from '../src/lib/UserContext';\nimport { useRouter } from 'next/router';\nimport ThankYouComponent from '../src/areas/ThankYou';\nimport { seeIfLogin } from '../src/lib';\nimport Loading from '../src/components/Loading';\n\nconst ThankYou = () => {\n  _s();\n\n  const {\n    currentUser,\n    api,\n    setToken\n  } = useContext(UserContext);\n  const router = useRouter();\n  const [message, setMessage] = useState('Thank you!');\n  const [isEmail, setIsEmail] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    if (currentUser === undefined || currentUser === null) {\n      setIsLoading(true);\n      return;\n    }\n\n    if (router.query.email !== undefined) {\n      setIsEmail(true);\n      setMessage('Thank you! We know email confirmations suck, but we do it for you –\\nto make sure everyone on the platform is a student.\\nPlease check your email for a confirmation link.');\n    } else if (router.query.post !== undefined) {\n      setMessage(`Thanks for listing your ticket for ${router.query.post}, ${currentUser.first_name}!\\nWe\\'re looking for a buyer right now.\\nWe\\'ll email you when we\\'ve found the perfect buyer.\\nHang tight!`);\n    } else if (router.query.purchase !== undefined) {\n      setMessage(`Thanks for purchasing your ticket for ${router.query.purchase}, ${currentUser.first_name}!\\nWe\\'re contacting the seller right now.\\nWe\\'ll email you when the seller confirms that the ticket has been transferred.\\nHang tight!`);\n    }\n\n    setIsLoading(false);\n  }, [router.query, currentUser]);\n  useEffect(() => {\n    seeIfLogin(api, setToken);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"title\", null, \"MasterSeats \\u2022 Thank You\")), isLoading ? /*#__PURE__*/React.createElement(Loading, null) : /*#__PURE__*/React.createElement(ThankYouComponent, {\n    message: message,\n    isEmail: isEmail\n  }));\n};\n\n_s(ThankYou, \"TEhwZsFwMLQ3/+9lEt8DWn69BI0=\", false, function () {\n  return [useRouter];\n});\n\n_c = ThankYou;\nexport default ThankYou;\n\nvar _c;\n\n$RefreshReg$(_c, \"ThankYou\");","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/pages/thankyou.tsx"],"names":["React","useContext","useState","useEffect","Head","UserContext","useRouter","ThankYouComponent","seeIfLogin","Loading","ThankYou","currentUser","api","setToken","router","message","setMessage","isEmail","setIsEmail","isLoading","setIsLoading","undefined","query","email","post","first_name","purchase"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,OAAOC,iBAAP,MAA8B,uBAA9B;AACA,SAAQC,UAAR,QAAyB,YAAzB;AACA,OAAOC,OAAP,MAAoB,2BAApB;;AAEA,MAAMC,QAAkB,GAAG,MAAM;AAAA;;AAC7B,QAAM;AAACC,IAAAA,WAAD;AAAcC,IAAAA,GAAd;AAAmBC,IAAAA;AAAnB,MAA+BZ,UAAU,CAACI,WAAD,CAA/C;AACA,QAAMS,MAAM,GAAGR,SAAS,EAAxB;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,YAAD,CAAtC;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACiB,SAAD,EAAYC,YAAZ,IAA4BlB,QAAQ,CAAC,IAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIQ,WAAW,KAAKU,SAAhB,IAA6BV,WAAW,KAAK,IAAjD,EAAuD;AACnDS,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACA;AACH;;AACD,QAAIN,MAAM,CAACQ,KAAP,CAAaC,KAAb,KAAuBF,SAA3B,EAAsC;AAClCH,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAF,MAAAA,UAAU,CAAC,4KAAD,CAAV;AACH,KAHD,MAGO,IAAIF,MAAM,CAACQ,KAAP,CAAaE,IAAb,KAAsBH,SAA1B,EAAqC;AACxCL,MAAAA,UAAU,CAAE,sCAAqCF,MAAM,CAACQ,KAAP,CAAaE,IAAK,KAAIb,WAAW,CAACc,UAAW,8GAApF,CAAV;AACH,KAFM,MAEA,IAAIX,MAAM,CAACQ,KAAP,CAAaI,QAAb,KAA0BL,SAA9B,EAAyC;AAC5CL,MAAAA,UAAU,CAAE,yCAAwCF,MAAM,CAACQ,KAAP,CAAaI,QAAS,KAAIf,WAAW,CAACc,UAAW,0IAA3F,CAAV;AACH;;AACDL,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,GAdQ,EAcN,CAACN,MAAM,CAACQ,KAAR,EAAeX,WAAf,CAdM,CAAT;AAgBAR,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,UAAU,CAACI,GAAD,EAAMC,QAAN,CAAV;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI,uDACI,oBAAC,IAAD,qBACI,kEADJ,CADJ,EAIKM,SAAS,gBAAG,oBAAC,OAAD,OAAH,gBAAgB,oBAAC,iBAAD;AAAmB,IAAA,OAAO,EAAEJ,OAA5B;AAAqC,IAAA,OAAO,EAAEE;AAA9C,IAJ9B,CADJ;AASH,CApCD;;GAAMP,Q;UAEaJ,S;;;KAFbI,Q;AAsCN,eAAeA,QAAf","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport Head from 'next/head'\nimport {UserContext} from '../src/lib/UserContext'\nimport {useRouter} from 'next/router'\nimport ThankYouComponent from '../src/areas/ThankYou'\nimport {seeIfLogin} from '../src/lib'\nimport Loading from '../src/components/Loading';\n\nconst ThankYou: React.FC = () => {\n    const {currentUser, api, setToken} = useContext(UserContext) \n    const router = useRouter()\n    const [message, setMessage] = useState('Thank you!')\n    const [isEmail, setIsEmail] = useState(false)\n    const [isLoading, setIsLoading] = useState(true)\n\n    useEffect(() => {\n        if (currentUser === undefined || currentUser === null) {\n            setIsLoading(true)\n            return\n        }\n        if (router.query.email !== undefined) {\n            setIsEmail(true)\n            setMessage('Thank you! We know email confirmations suck, but we do it for you –\\nto make sure everyone on the platform is a student.\\nPlease check your email for a confirmation link.')\n        } else if (router.query.post !== undefined) {\n            setMessage(`Thanks for listing your ticket for ${router.query.post}, ${currentUser.first_name}!\\nWe\\'re looking for a buyer right now.\\nWe\\'ll email you when we\\'ve found the perfect buyer.\\nHang tight!`)\n        } else if (router.query.purchase !== undefined) {\n            setMessage(`Thanks for purchasing your ticket for ${router.query.purchase}, ${currentUser.first_name}!\\nWe\\'re contacting the seller right now.\\nWe\\'ll email you when the seller confirms that the ticket has been transferred.\\nHang tight!`)\n        }\n        setIsLoading(false)\n    }, [router.query, currentUser])\n\n    useEffect(() => {\n        seeIfLogin(api, setToken)\n    }, [])\n\n    return (\n        <>\n            <Head>\n                <title>MasterSeats • Thank You</title>\n            </Head>\n            {isLoading ? <Loading/> : <ThankYouComponent message={message} isEmail={isEmail} />}\n            \n        </>\n    );\n};\n\nexport default ThankYou;"]},"metadata":{},"sourceType":"module"}