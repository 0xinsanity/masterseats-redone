{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport { PageDashboard } from '../PageUniversal';\nimport SellSection from '../Sections/Sell';\nimport { UserContext } from '../../lib/UserContext';\n\nconst SellingPage = () => {\n  _s();\n\n  const {\n    api\n  } = useContext(UserContext);\n  const [ticketWallet, setTicketWallet] = useState([]);\n\n  const getTicketWallet = async () => {\n    console.log(\"api: \" + api);\n    const body = await api.getTicketWallet();\n    setTicketWallet(body.data);\n  };\n\n  useEffect(() => {\n    getTicketWallet();\n  }, []);\n\n  const postTicket = async ticketBody => {\n    await api.postTicket(ticketBody);\n    await getTicketWallet();\n  };\n\n  const removeTicket = async ticketId => {\n    await api.removeTicket({\n      id: ticketId\n    });\n    await getTicketWallet();\n  };\n\n  return /*#__PURE__*/React.createElement(PageDashboard, {\n    isLoggedIn: false\n  }, /*#__PURE__*/React.createElement(SellSection, {\n    tickets: ticketWallet,\n    postTicket: postTicket,\n    removeTicket: removeTicket\n  }));\n};\n\n_s(SellingPage, \"Bm8vwtISvHYENR/IZwt7XQ7PbUg=\");\n\n_c = SellingPage;\nexport default SellingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SellingPage\");","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/src/areas/SellingPage/index.tsx"],"names":["React","useEffect","useContext","useState","PageDashboard","SellSection","UserContext","SellingPage","api","ticketWallet","setTicketWallet","getTicketWallet","console","log","body","data","postTicket","ticketBody","removeTicket","ticketId","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;;AAGA,MAAMC,WAAqB,GAAG,MAAM;AAAA;;AAChC,QAAM;AAACC,IAAAA;AAAD,MAAQN,UAAU,CAACI,WAAD,CAAxB;AACA,QAAM,CAACG,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,CAAW,EAAX,CAAhD;;AAEA,QAAMQ,eAAe,GAAG,YAAY;AAChCC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAUL,GAAtB;AACA,UAAMM,IAAI,GAAG,MAAMN,GAAG,CAACG,eAAJ,EAAnB;AACAD,IAAAA,eAAe,CAACI,IAAI,CAACC,IAAN,CAAf;AACH,GAJD;;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,eAAe;AAClB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMK,UAAU,GAAG,MAAOC,UAAP,IAAsC;AACrD,UAAMT,GAAG,CAACQ,UAAJ,CAAeC,UAAf,CAAN;AACA,UAAMN,eAAe,EAArB;AACH,GAHD;;AAKA,QAAMO,YAAY,GAAG,MAAOC,QAAP,IAA4B;AAC7C,UAAMX,GAAG,CAACU,YAAJ,CAAiB;AAACE,MAAAA,EAAE,EAAED;AAAL,KAAjB,CAAN;AACA,UAAMR,eAAe,EAArB;AACH,GAHD;;AAIA,sBACI,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAE;AAA3B,kBACI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEF,YAAtB;AAAoC,IAAA,UAAU,EAAEO,UAAhD;AAA4D,IAAA,YAAY,EAAEE;AAA1E,IADJ,CADJ;AAKH,CA5BD;;GAAMX,W;;KAAAA,W;AA8BN,eAAeA,WAAf","sourcesContent":["import React, {useEffect, useContext, useState} from 'react'\nimport {PageDashboard} from '../PageUniversal'\nimport SellSection from '../Sections/Sell'\nimport {UserContext} from '../../lib/UserContext'\nimport {Ticket, PostTicketBody} from '../../../api'\n\nconst SellingPage: React.FC = () => {\n    const {api} = useContext(UserContext)\n    const [ticketWallet, setTicketWallet] = useState<Ticket[]>([])\n\n    const getTicketWallet = async () => {\n        console.log(\"api: \" + api)\n        const body = await api.getTicketWallet()\n        setTicketWallet(body.data)\n    }\n\n    useEffect(() => {\n        getTicketWallet()\n    }, [])\n\n    const postTicket = async (ticketBody: PostTicketBody) => {\n        await api.postTicket(ticketBody)\n        await getTicketWallet()\n    }\n\n    const removeTicket = async (ticketId: string) => {\n        await api.removeTicket({id: ticketId})\n        await getTicketWallet()\n    }\n    return (\n        <PageDashboard isLoggedIn={false}>\n            <SellSection tickets={ticketWallet} postTicket={postTicket} removeTicket={removeTicket}/>\n        </PageDashboard>\n    )\n}\n\nexport default SellingPage"]},"metadata":{},"sourceType":"module"}