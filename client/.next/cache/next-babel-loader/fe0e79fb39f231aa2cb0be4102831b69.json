{"ast":null,"code":"import React, { useState, useContext, useEffect } from 'react';\nimport { PageDashboard } from '../Universal/PageUniversal';\nimport BuySection from './Buy';\nimport { UserContext } from '../../lib/UserContext';\n\nconst BuyingPage = () => {\n  const {\n    api,\n    currentUser\n  } = useContext(UserContext);\n  const [tickets, setTickets] = useState([]);\n\n  const getTickets = async sortTicketBody => {\n    var sortFields = sortTicketBody;\n\n    if (sortTicketBody.game === \"All Games\") {\n      sortFields = {\n        filter: sortTicketBody.filter\n      };\n    }\n\n    var body;\n\n    if (currentUser === null) {\n      body = await api.sortTickets(sortFields);\n    } else {\n      body = await api.sortTicketsSecure(sortFields);\n    }\n\n    setTickets(body.data);\n  };\n\n  useEffect(() => {\n    getTickets({\n      game: \"All Games\",\n      filter: \"Price - lowest to highest\"\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(PageDashboard, {\n    isLoggedIn: currentUser === null ? false : true,\n    selected: -1\n  }, /*#__PURE__*/React.createElement(BuySection, {\n    tickets: tickets,\n    getTickets: getTickets\n  }));\n};\n\nexport default BuyingPage;","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/src/areas/BuyingPage/index.tsx"],"names":["React","useState","useContext","useEffect","PageDashboard","BuySection","UserContext","BuyingPage","api","currentUser","tickets","setTickets","getTickets","sortTicketBody","sortFields","game","filter","body","sortTickets","sortTicketsSecure","data"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,OAAOC,UAAP,MAAuB,OAAvB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;;AAGA,MAAMC,UAAoB,GAAG,MAAM;AAC/B,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAqBP,UAAU,CAACI,WAAD,CAArC;AACA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAW,EAAX,CAAtC;;AAEA,QAAMW,UAAU,GAAG,MAAOC,cAAP,IAA0B;AACzC,QAAIC,UAAU,GAAGD,cAAjB;;AACA,QAAIA,cAAc,CAACE,IAAf,KAAwB,WAA5B,EAAyC;AACrCD,MAAAA,UAAU,GAAG;AAACE,QAAAA,MAAM,EAAEH,cAAc,CAACG;AAAxB,OAAb;AACH;;AAED,QAAIC,IAAJ;;AACA,QAAIR,WAAW,KAAK,IAApB,EAA0B;AACtBQ,MAAAA,IAAI,GAAG,MAAMT,GAAG,CAACU,WAAJ,CAAgBJ,UAAhB,CAAb;AACH,KAFD,MAEO;AACHG,MAAAA,IAAI,GAAG,MAAMT,GAAG,CAACW,iBAAJ,CAAsBL,UAAtB,CAAb;AACH;;AACDH,IAAAA,UAAU,CAACM,IAAI,CAACG,IAAN,CAAV;AACH,GAbD;;AAeAjB,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,UAAU,CAAC;AAACG,MAAAA,IAAI,EAAE,WAAP;AAAoBC,MAAAA,MAAM,EAAE;AAA5B,KAAD,CAAV;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAEP,WAAW,KAAK,IAAhB,GAAuB,KAAvB,GAA+B,IAA1D;AAAgE,IAAA,QAAQ,EAAE,CAAC;AAA3E,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEC,OAArB;AAA8B,IAAA,UAAU,EAAEE;AAA1C,IADJ,CADJ;AAKH,CA5BD;;AA8BA,eAAeL,UAAf","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\nimport {PageDashboard} from '../Universal/PageUniversal'\nimport BuySection from './Buy'\nimport {UserContext} from '../../lib/UserContext'\nimport {Ticket} from '../../../api'\n\nconst BuyingPage: React.FC = () => {\n    const {api, currentUser} = useContext(UserContext)\n    const [tickets, setTickets] = useState<Ticket[]>([])\n\n    const getTickets = async (sortTicketBody) => {\n        var sortFields = sortTicketBody\n        if (sortTicketBody.game === \"All Games\") {\n            sortFields = {filter: sortTicketBody.filter}\n        }\n\n        var body\n        if (currentUser === null) {\n            body = await api.sortTickets(sortFields)\n        } else {\n            body = await api.sortTicketsSecure(sortFields)\n        }\n        setTickets(body.data)\n    }\n\n    useEffect(() => {\n        getTickets({game: \"All Games\", filter: \"Price - lowest to highest\"})\n    }, [])\n\n    return (\n        <PageDashboard isLoggedIn={currentUser === null ? false : true} selected={-1}>\n            <BuySection tickets={tickets} getTickets={getTickets}/>\n        </PageDashboard>\n    )\n}\n\nexport default BuyingPage"]},"metadata":{},"sourceType":"module"}