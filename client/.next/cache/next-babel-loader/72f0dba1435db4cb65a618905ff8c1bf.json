{"ast":null,"code":"import React, { useEffect, useContext, useState } from 'react';\nimport { PageDashboard } from '../Universal/PageUniversal';\nimport SellSection from '../Sections/Sell';\nimport { UserContext } from '../../lib/UserContext';\n\nconst SellingPage = () => {\n  const {\n    api,\n    currentUser\n  } = useContext(UserContext);\n  const [ticketWallet, setTicketWallet] = useState([]);\n  useEffect(() => {\n    if (currentUser !== null) {\n      getTicketWallet();\n    }\n  }, []);\n\n  const getTicketWallet = async () => {\n    const body = await api.getTicketWallet();\n    setTicketWallet(body.data);\n  };\n\n  const postTicket = async ticketBody => {\n    await api.postTicket(ticketBody);\n    localStorage.setItem('game', undefined);\n    localStorage.setItem('section', undefined);\n    localStorage.setItem('price', undefined);\n    await getTicketWallet();\n  };\n\n  const removeTicket = async ticketId => {\n    await api.removeTicket({\n      id: ticketId\n    });\n    await getTicketWallet();\n  };\n\n  return /*#__PURE__*/React.createElement(PageDashboard, {\n    isLoggedIn: currentUser === null ? false : true,\n    selected: -1\n  }, /*#__PURE__*/React.createElement(SellSection, {\n    tickets: ticketWallet,\n    postTicket: postTicket,\n    removeTicket: removeTicket\n  }));\n};\n\nexport default SellingPage;","map":{"version":3,"sources":["/Users/insanity/Documents/MasterSeats/new/client/src/areas/SellingPage/index.tsx"],"names":["React","useEffect","useContext","useState","PageDashboard","SellSection","UserContext","SellingPage","api","currentUser","ticketWallet","setTicketWallet","getTicketWallet","body","data","postTicket","ticketBody","localStorage","setItem","undefined","removeTicket","ticketId","id"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAsCC,QAAtC,QAAqD,OAArD;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAAQC,WAAR,QAA0B,uBAA1B;;AAGA,MAAMC,WAAqB,GAAG,MAAM;AAChC,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAqBP,UAAU,CAACI,WAAD,CAArC;AACA,QAAM,CAACI,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAW,EAAX,CAAhD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIQ,WAAW,KAAK,IAApB,EAA0B;AACtBG,MAAAA,eAAe;AAClB;AACJ,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMA,eAAe,GAAG,YAAY;AAChC,UAAMC,IAAI,GAAG,MAAML,GAAG,CAACI,eAAJ,EAAnB;AACAD,IAAAA,eAAe,CAACE,IAAI,CAACC,IAAN,CAAf;AACH,GAHD;;AAKA,QAAMC,UAAU,GAAG,MAAOC,UAAP,IAAsC;AACrD,UAAMR,GAAG,CAACO,UAAJ,CAAeC,UAAf,CAAN;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,SAA7B;AACAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,SAAhC;AACAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,SAA9B;AACA,UAAMP,eAAe,EAArB;AACH,GAND;;AAQA,QAAMQ,YAAY,GAAG,MAAOC,QAAP,IAA4B;AAC7C,UAAMb,GAAG,CAACY,YAAJ,CAAiB;AAACE,MAAAA,EAAE,EAAED;AAAL,KAAjB,CAAN;AACA,UAAMT,eAAe,EAArB;AACH,GAHD;;AAIA,sBACI,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAEH,WAAW,KAAK,IAAhB,GAAuB,KAAvB,GAA+B,IAA1D;AAAgE,IAAA,QAAQ,EAAE,CAAC;AAA3E,kBACI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEC,YAAtB;AAAoC,IAAA,UAAU,EAAEK,UAAhD;AAA4D,IAAA,YAAY,EAAEK;AAA1E,IADJ,CADJ;AAKH,CAhCD;;AAkCA,eAAeb,WAAf","sourcesContent":["import React, {useEffect, useContext, useState} from 'react'\nimport {PageDashboard} from '../Universal/PageUniversal'\nimport SellSection from '../Sections/Sell'\nimport {UserContext} from '../../lib/UserContext'\nimport {Ticket, PostTicketBody} from '../../../api'\n\nconst SellingPage: React.FC = () => {\n    const {api, currentUser} = useContext(UserContext)\n    const [ticketWallet, setTicketWallet] = useState<Ticket[]>([])\n\n    useEffect(() => {\n        if (currentUser !== null) {\n            getTicketWallet()\n        }\n    }, [])\n\n    const getTicketWallet = async () => {\n        const body = await api.getTicketWallet()\n        setTicketWallet(body.data)\n    }\n\n    const postTicket = async (ticketBody: PostTicketBody) => {\n        await api.postTicket(ticketBody)\n        localStorage.setItem('game', undefined)\n        localStorage.setItem('section', undefined)\n        localStorage.setItem('price', undefined)\n        await getTicketWallet()\n    }\n\n    const removeTicket = async (ticketId: string) => {\n        await api.removeTicket({id: ticketId})\n        await getTicketWallet()\n    }\n    return (\n        <PageDashboard isLoggedIn={currentUser === null ? false : true} selected={-1}>\n            <SellSection tickets={ticketWallet} postTicket={postTicket} removeTicket={removeTicket}/>\n        </PageDashboard>\n    )\n}\n\nexport default SellingPage"]},"metadata":{},"sourceType":"module"}